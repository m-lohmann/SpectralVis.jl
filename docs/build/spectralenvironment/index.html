<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Spectral Environment · SpectralVis Documentation</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">SpectralVis Documentation</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Introduction</a></li><li><a class="tocitem" href="../about/">Introduction</a></li><li><a class="tocitem" href="../advancedfunctions/">Advanced Functions</a></li><li><a class="tocitem" href="../conefundamentals/">Cone Fundamental Functions</a></li><li><a class="tocitem" href="../constructionandconversion/">-</a></li><li><a class="tocitem" href="../documentation/">SpectralVis.jl Documentation</a></li><li><a class="tocitem" href="../functionindex/">Functions</a></li><li><a class="tocitem" href="../references/">References</a></li><li><a class="tocitem" href="../spectraldata/">Spectral Data</a></li><li class="is-active"><a class="tocitem" href>Spectral Environment</a><ul class="internal"><li><a class="tocitem" href="#SPECENV"><span>SPECENV</span></a></li><li><a class="tocitem" href="#setting-up-a-spectral-environment-and-changing-SPECENV-fields"><span>setting up a spectral environment and changing <code>SPECENV</code> fields</span></a></li></ul></li><li><a class="tocitem" href="../spectralgenerators/">Spectral generators</a></li><li><a class="tocitem" href="../spectraloperators/">Spectral Operators</a></li><li><a class="tocitem" href="../spectraltypes/">Spectral Type Tree</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Spectral Environment</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Spectral Environment</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/m-lohmann/SpectralVis.jl/blob/master/docs/src/spectralenvironment.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Spectral-Environment"><a class="docs-heading-anchor" href="#Spectral-Environment">Spectral Environment</a><a id="Spectral-Environment-1"></a><a class="docs-heading-anchor-permalink" href="#Spectral-Environment" title="Permalink"></a></h1><p><code>SpectralVis</code> initializes a spectral environment which defines parameters that all spectral functions can access to guarantee compatibility of datasets and spectra.</p><h2 id="SPECENV"><a class="docs-heading-anchor" href="#SPECENV">SPECENV</a><a id="SPECENV-1"></a><a class="docs-heading-anchor-permalink" href="#SPECENV" title="Permalink"></a></h2><p>The struct <code>SPECENV</code> stores all relevant parameters for spectral calculations. It contains the following fields:</p><p><code>λmin</code>: wavelength of the lower boundary in nm.</p><p><code>Δλ</code>: stepwidth in nm.</p><p><code>λmax</code>: wavelength of the upper boundary in nm.</p><p><code>cmf</code>: color matching function.</p><p><code>ex</code>: extrapolation mode.</p><h3 id="λmin,-Δλ,-λmax"><a class="docs-heading-anchor" href="#λmin,-Δλ,-λmax"><code>λmin</code>, <code>Δλ</code>, <code>λmax</code></a><a id="λmin,-Δλ,-λmax-1"></a><a class="docs-heading-anchor-permalink" href="#λmin,-Δλ,-λmax" title="Permalink"></a></h3><p>For obvious reasons, <code>λmin</code>, <code>Δλ</code>, and <code>λmax</code> ideally correspond with the parameters given by <code>cmf</code>.</p><h3 id="cmf"><a class="docs-heading-anchor" href="#cmf"><code>cmf</code></a><a id="cmf-1"></a><a class="docs-heading-anchor-permalink" href="#cmf" title="Permalink"></a></h3><p>The field <code>cmf</code> defines which color matching function type is used for all spectral calculations where CMFs are relevant, for example in color deficiency simulations, determination of fundamental metamers, or color calculations.</p><h3 id="ex"><a class="docs-heading-anchor" href="#ex"><code>ex</code></a><a id="ex-1"></a><a class="docs-heading-anchor-permalink" href="#ex" title="Permalink"></a></h3><p>The field <code>ex</code> determines the mode used to extrapolate spectra beyond the boundaries of their defined range, if necessary.</p><p>The following extrapolation modes are available in <code>SpectralVis</code>:</p><h4 id=":none,-:zero"><a class="docs-heading-anchor" href="#:none,-:zero"><code>:none</code>, <code>:zero</code></a><a id=":none,-:zero-1"></a><a class="docs-heading-anchor-permalink" href="#:none,-:zero" title="Permalink"></a></h4><p>Spectral data outside the defined range are set to zero.</p><h4 id=":boundary"><a class="docs-heading-anchor" href="#:boundary"><code>:boundary</code></a><a id=":boundary-1"></a><a class="docs-heading-anchor-permalink" href="#:boundary" title="Permalink"></a></h4><p>Spectral data outside the defined range are set to the values of the respective lower and upper boundaries.</p><h4 id=":linear"><a class="docs-heading-anchor" href="#:linear"><code>:linear</code></a><a id=":linear-1"></a><a class="docs-heading-anchor-permalink" href="#:linear" title="Permalink"></a></h4><p>Spectral data outside the defined range are linearly extrapolated.</p><h4 id=":parabolic"><a class="docs-heading-anchor" href="#:parabolic"><code>:parabolic</code></a><a id=":parabolic-1"></a><a class="docs-heading-anchor-permalink" href="#:parabolic" title="Permalink"></a></h4><p>Spectral data outside the defined range are extrapolated by parabolas.</p><h2 id="setting-up-a-spectral-environment-and-changing-SPECENV-fields"><a class="docs-heading-anchor" href="#setting-up-a-spectral-environment-and-changing-SPECENV-fields">setting up a spectral environment and changing <code>SPECENV</code> fields</a><a id="setting-up-a-spectral-environment-and-changing-SPECENV-fields-1"></a><a class="docs-heading-anchor-permalink" href="#setting-up-a-spectral-environment-and-changing-SPECENV-fields" title="Permalink"></a></h2><p><code>set_specenv(λmin = 390.0, Δλ = 1.0, λmax = 830.0, cmf = cmfunc(:cie12_10), ex = :linear)</code></p><article class="docstring"><header><a class="docstring-binding" id="SpectralVis.set_specenv" href="#SpectralVis.set_specenv"><code>SpectralVis.set_specenv</code></a> — <span class="docstring-category">Function</span></header><section><div><p><code>set_specenv(λmin=390.0,Δλ=1.0,λmax=830.0,extrapolate= :zero)</code></p><p>Initializes the spectral environment to standard values:</p><p>λmin = 380.0 nm λmax = 830.0 nm Δλ   =   1.0 nm cmf  = cmfunc(:cie12_10) ex = :linear</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/m-lohmann/SpectralVis.jl/blob/2d13a637e988782ee246caca9d1f446135212478/src/environment_types.jl#L27-L37">source</a></section></article><p><code>set_extrap(extrapolation::Symbol)</code></p><article class="docstring"><header><a class="docstring-binding" id="SpectralVis.set_extrap" href="#SpectralVis.set_extrap"><code>SpectralVis.set_extrap</code></a> — <span class="docstring-category">Function</span></header><section><div><p><code>set_extrap(env::SpecEnvironment,extrapolation::Symbol)</code></p><p>Sets the extrapolation mode of the environment <code>env</code> to one of the available extrapolation settings:</p><p><code>:none</code> or <code>:zero</code>: out of range values are zero.</p><p><code>:constant</code>: out of range values are set to λmin and λmax, respectively.</p><p><code>:linear</code>: out of range values are linearly extrapolated through the first/last two data points.</p><p><code>:parabolic</code>: out fo range values are extrapolated with a parabola through the first/last three datapoints. <em>Recommended extrapolation method according to D.L. MacAdams</em> in &quot;Color Measurement&quot;, chapter 5.4 <em>&quot;Truncations&quot;</em>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/m-lohmann/SpectralVis.jl/blob/2d13a637e988782ee246caca9d1f446135212478/src/environment_types.jl#L45-L57">source</a></section><section><div><p><code>set_extrap(extrapolation::Symbol)</code></p><p>Sets the extrapolation mode of the environment <code>env</code> to one of the available extrapolation settings:</p><p><code>:none</code> or <code>:zero</code>: out of range values are zero.</p><p><code>:constant</code>: out of range values are set to λmin and λmax, respectively.</p><p><code>:linear</code>: out of range values are linearly extrapolated through the first/last two data points.</p><p><code>:parabolic</code>: out fo range values are extrapolated with a parabola through the first/last three datapoints. <em>Recommended extrapolation method according to D.L. MacAdams</em> in &quot;Color Measurement&quot;, chapter 5.4 <em>&quot;Truncations&quot;</em>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/m-lohmann/SpectralVis.jl/blob/2d13a637e988782ee246caca9d1f446135212478/src/environment_types.jl#L64-L76">source</a></section></article><p><code>set_limits(env::SpecEnvironment, λmin::Real,Δλ::Real,λmax::Real)</code></p><article class="docstring"><header><a class="docstring-binding" id="SpectralVis.set_limits" href="#SpectralVis.set_limits"><code>SpectralVis.set_limits</code></a> — <span class="docstring-category">Function</span></header><section><div><p><code>set_limits(env::SpecEnvironment, λmin::Real,Δλ::Real,λmax::Real)</code></p><p>sets the wavelength limits and resolution of the spectral environment</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/m-lohmann/SpectralVis.jl/blob/2d13a637e988782ee246caca9d1f446135212478/src/environment_types.jl#L82-L86">source</a></section><section><div><p><code>set_limits(λmin::Real,Δλ::Real,λmax::Real)</code></p><p>sets the wavelength limits and resolution of the spectral environment</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/m-lohmann/SpectralVis.jl/blob/2d13a637e988782ee246caca9d1f446135212478/src/environment_types.jl#L94-L98">source</a></section></article><p><code>set_colormatch(env::SpecEnvironment, colormatch::CMatch)</code></p><article class="docstring"><header><a class="docstring-binding" id="SpectralVis.set_colormatch" href="#SpectralVis.set_colormatch"><code>SpectralVis.set_colormatch</code></a> — <span class="docstring-category">Function</span></header><section><div><p><code>set_colormatch(env::SpecEnvironment, colormatch::CMatch)</code></p><p>Sets the color matching function (CMF) used in a defined spectral environment.</p><p>Available CMFs:</p><p><code>:cie31</code>, <code>:cie31_j</code>, <code>:cie31_jv</code>, <code>:cie64</code>, <code>:cie12_2</code>, <code>:cie12_10</code>, <code>:lms06_2</code>, <code>:lms06_10</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/m-lohmann/SpectralVis.jl/blob/2d13a637e988782ee246caca9d1f446135212478/src/environment_types.jl#L104-L112">source</a></section><section><div><p><code>set_colormatch(colormatch::CMatch)</code></p><p>Sets the color matching function (CMF) used in the spectral environment.</p><p>Available CMFs:</p><p><code>:cie31</code>, <code>:cie31_j</code>, <code>:cie31_jv</code>, <code>:cie64</code>, <code>:cie12_2</code>, <code>:cie12_10</code>, <code>:lms06_2</code>, <code>:lms06_10</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/m-lohmann/SpectralVis.jl/blob/2d13a637e988782ee246caca9d1f446135212478/src/environment_types.jl#L118-L126">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../spectraldata/">« Spectral Data</a><a class="docs-footer-nextpage" href="../spectralgenerators/">Spectral generators »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.3 on <span class="colophon-date" title="Thursday 15 July 2021 01:58">Thursday 15 July 2021</span>. Using Julia version 1.6.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
